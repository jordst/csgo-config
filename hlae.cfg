sv_cheats 1
clear

// banner
echo "███████╗███╗░░░███╗░██████╗  ██████╗░███████╗███╗░░░███╗░█████╗░  ░█████╗░░█████╗░███╗░░██╗███████╗██╗░██████╗░"
echo "██╔════╝████╗░████║██╔════╝  ██╔══██╗██╔════╝████╗░████║██╔══██╗  ██╔══██╗██╔══██╗████╗░██║██╔════╝██║██╔════╝░"
echo "█████╗░░██╔████╔██║╚█████╗░  ██║░░██║█████╗░░██╔████╔██║██║░░██║  ██║░░╚═╝██║░░██║██╔██╗██║█████╗░░██║██║░░██╗░"
echo "██╔══╝░░██║╚██╔╝██║░╚═══██╗  ██║░░██║██╔══╝░░██║╚██╔╝██║██║░░██║  ██║░░██╗██║░░██║██║╚████║██╔══╝░░██║██║░░╚██╗"
echo "██║░░░░░██║░╚═╝░██║██████╔╝  ██████╔╝███████╗██║░╚═╝░██║╚█████╔╝  ╚█████╔╝╚█████╔╝██║░╚███║██║░░░░░██║╚██████╔╝"
echo "╚═╝░░░░░╚═╝░░░░░╚═╝╚═════╝░  ╚═════╝░╚══════╝╚═╝░░░░░╚═╝░╚════╝░  ░╚════╝░░╚════╝░╚═╝░░╚══╝╚═╝░░░░░╚═╝░╚═════╝░"
echo "─────────────────────────────────────────"
echo "1. F1 - Start Recording @ 900FPS"
echo "2. F2 - Stop Recording"
echo "3. F3 DEMOUI"
echo "4. 'l' - list entities for mirv_pov cmd"
echo "─────────────────────────────────────────"

engine_no_focus_sleep 0	//make sure there's no frame drop when csgo is not selected/focused
//mirv_streams settings add ffmpeg fms		"-c:v libx264 -pix_fmt yuv420p -preset ultrafast -crf 1 {QUOTE}{AFX_STREAM_PATH}.mp4{QUOTE}"
mirv_streams settings add ffmpeg fms		"-c:v h264_nvenc -profile high444p -preset lossless -tune lossless -pixel_format yuv420p {QUOTE}{AFX_STREAM_PATH}.mp4{QUOTE}"

// demo cmds
alias l "mirv_listentities isPlayer=1;"
mirv_fix playerAnimState 1
mp_display_kill_assists 0
mat_postprocess_enable 0
cl_clock_correction 0
mirv_snd_timescale 1
host_timescale 0
fog_override 1
fog_enable 0
fps_max 0

// recording settings
mirv_streams record name "E:\hlae"	
Mirv_streams add baseFx raw;
mirv_streams edit raw record 1;
mirv_streams edit raw settings afxFfmpeg;

// blur in ffmpeg
mirv_streams settings add sampler blur
mirv_streams settings edit blur settings fms
mirv_streams settings edit blur strength 1
mirv_streams settings edit blur method rectangle
mirv_streams settings edit blur exposure 0.7         // blur amount
mirv_streams settings edit blur fps 60               // output fps // changing this will also change the blur amount (ex: lower fps = more blur)
mirv_streams edit raw settings blur

bind f1 "host_framerate 900; mirv_streams record start;"
bind f2 "mirv_streams record end; host_framerate 0"
bind F3 demoui
